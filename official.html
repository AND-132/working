<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Official Archive â€” 32â€™s Documentation</title>
  <meta name="description" content="ë°•ìƒí¬ ê³µì‹ ì—…ë¬´ ì•„ì¹´ì´ë¸Œ (2020â€“2025) â€” GitHub Pages" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --primary:#0A2740;
      --accent:#3A7DFF;
      --bg:#F9FAFB;
      --card:#FFFFFF;
      --text:#111827;
      --muted:#6B7280;
      --ring:rgba(58,125,255,0.25);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Pretendard', sans-serif;
      color:var(--text); background:linear-gradient(180deg, #FFFFFF 0%, var(--bg) 100%);
    }
    .container{max-width:1100px; margin:0 auto; padding:24px}
.card{
  background:var(--card);
  border:1px solid #E5E7EB;
  border-radius:18px;
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:10px;
  transition:transform .15s ease, box-shadow .15s ease;
  height:100%; /* ì¹´ë“œ ë†’ì´ ê· ì¼í™” */
}

.card a{
  margin-top:auto; /* ë²„íŠ¼ì„ ì¹´ë“œ í•˜ë‹¨ìœ¼ë¡œ ê³ ì • */
}
    header{
      position:sticky; top:0; z-index:10; backdrop-filter:saturate(1.1) blur(8px);
      background:rgba(255,255,255,.85); border-bottom:1px solid #E5E7EB;
    }
    .nav{display:flex; align-items:center; justify-content:space-between; gap:16px; height:64px}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit}
    .logo{width:34px; height:34px; display:grid; place-items:center; border-radius:12px; background:linear-gradient(135deg,var(--primary),var(--accent)); box-shadow:0 6px 20px rgba(0,0,0,.08)}
    .links{display:flex; gap:14px; align-items:center}
    .pill{padding:10px 14px; border-radius:999px; border:1px solid #E5E7EB; background:#fff}
    .btn{padding:10px 14px; border-radius:12px; border:1px solid var(--accent); background:var(--accent); color:#fff; font-weight:600}
    .hero{display:grid; gap:18px; align-items:center; grid-template-columns:1.2fr .8fr; padding:48px 0}
    .hero-card{background:var(--card); border:1px solid #E5E7EB; border-radius:20px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.05)}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:8px}
    .card{background:var(--card); border:1px solid #E5E7EB; border-radius:18px; padding:18px; display:flex; flex-direction:column; gap:10px; transition:transform .15s ease, box-shadow .15s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 12px 24px rgba(0,0,0,.06)}
    footer{padding:40px 0; color:var(--muted); font-size:14px; text-align:center}
  </style>
</head>

<body>
  <header>
    <div class="container nav">
      <a class="brand" href="./">
        <div class="logo">ğŸ“˜</div>
        <span>Official Archive</span>
      </a>
      <nav class="links">
        <a class="pill" href="#tms">TMS</a>
        <a class="pill" href="#archives">Archives</a>
        <a class="pill" href="#about">About</a>
        <a class="btn" id="authBtn" href="./login.html">ë¡œê·¸ì¸ / íšŒì›ê°€ì…</a>
      </nav>
    </div>
  </header>

  <main class="container">

    <section class="hero">
      <div>
        <h1>ê³µì‹ ì•„ì¹´ì´ë¸Œ (2020â€“2025)</h1>
        <p class="sub">ì¸ì¦Â·ì‹¬ì‚¬Â·í‰ê°€ ëŒ€ë¹„ìš© í–‰ì • ì•„ì¹´ì´ë¸Œ. HRD-Net/NCS ë¬¸ì„œ, í‰ê°€ì„œ, ì¦ë¹™ìë£Œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ë³´ê´€í•©ë‹ˆë‹¤.</p>
        <div style="display:flex; gap:10px; margin-top:16px; flex-wrap:wrap">
          <a class="btn" href="#quick-start">ë¹ ë¥¸ ì‹œì‘</a>
          <a class="pill" href="./official.html">ìƒˆë¡œê³ ì¹¨</a>
        </div>
      </div>
      <div class="hero-card">
        <strong>ì—…ë¬´ìš© ë°”ë¡œê°€ê¸°</strong>
        <ul style="margin:10px 0 0 0; padding-left:18px; line-height:1.7">
          <li><a href="#tms">TMS ëª¨ë“ˆ</a> â€” í–‰ì •/ê°•ì‚¬/ìˆ˜ê°•ìƒ/ì´ìˆ˜ì/ê¸°ê´€í‰ê°€</li>
          <li><a href="#archives">ì—°ë„ë³„ ì•„ì¹´ì´ë¸Œ</a> â€” 2020~2025</li>
          <li><a href="./login.html">ë¡œê·¸ì¸Â·íšŒì›ê°€ì…</a> â€” Firebase ì—°ë™ ê°€ëŠ¥</li>
        </ul>
      </div>
    </section>

    <section id="tms" class="section">
      <h2>TMS ëª¨ë“ˆ</h2>
      <a class="pill" href="#">ëª¨ë“ˆ êµ¬ì¡° JSON ë³´ê¸°</a>
    </section>
<!-- ğŸ”¥ Firebaseì—ì„œ ë¶ˆëŸ¬ì˜¨ í´ë” ì¹´ë“œê°€ ë“¤ì–´ê°ˆ ì˜ì—­ -->
<section class="archive-section">
  <h2 class="section-title">ì—°ë„ë³„ ì•„ì¹´ì´ë¸Œ</h2>
  <div class="tms-grid" id="official-grid"></div>
</section>
    <div class="grid">
      <article class="card"><span class="tag">í–‰ì •ëª¨ë“œ</span><h3>ì¸ì¦Â·ì‹¬ì‚¬ ì²´í¬ë¦¬ìŠ¤íŠ¸</h3><p>ê¸°ê´€ì¸ì¦/ê³¼ì •ì‹¬ì‚¬ ì ê²€í‘œ ë° ì œì¶œ ì–‘ì‹ ê´€ë¦¬.</p><a class="btn" href="#">ì—´ê¸°</a></article>
      <article class="card"><span class="tag">ê°•ì‚¬ëª¨ë“œ</span><h3>NCS êµê³¼ëª© íšŒì˜ë¡</h3><p>êµê³¼ìš´ì˜ íšŒì˜ë¡, ìˆ˜ì—…ê³„íšì„œ, í‰ê°€ê³„íš ì—°ê³„ ë¬¸ì„œ.</p><a class="btn" href="#">ì—´ê¸°</a></article>
      <article class="card"><span class="tag">ìˆ˜ê°•ìƒëª¨ë“œ</span><h3>í›ˆë ¨ìƒ ê°€ì´ë“œ</h3><p>ì¶œê²°/í™˜ë¶ˆ/ì¥ë ¤ê¸ˆ, ì·¨ì—…ì—°ê³„ ì ˆì°¨ ì•ˆë‚´ ìë£Œ.</p><a class="btn" href="#">ì—´ê¸°</a></article>
      <article class="card" id="evaluationCard">
  <span class="tag">ì´ìˆ˜ìí‰ê°€</span>
  <h3>í‰ê°€ ìš´ì˜ íŒ¨í‚¤ì§€</h3>
  <p>í‰ê°€ì¼ì§€, ê°ë…ì ì²´í¬ë¦¬ìŠ¤íŠ¸, ì´ì˜ì‹ ì²­ ì–‘ì‹.</p>
  <a class="btn" href="#" id="toggleFilesBtn">ì—´ê¸°</a>

  <!-- ğŸ”¥ ì—¬ê¸°ì— íŒŒì¼ ëª©ë¡ì´ í‘œì‹œë¨ (ì²˜ìŒì—” ìˆ¨ê¹€) -->
  <div id="fileList" style="display:none; margin-top:10px;"></div>
</article>

      <article class="card"><span class="tag">ê¸°ê´€í‰ê°€</span><h3>ì§€í‘œë³„ ì¦ë¹™í´ë”</h3><p>ì·¨ì—…ë¥ , ì‚°í•™ë¦¬ìŠ¤íŠ¸, ê°•ì‚¬ê²½ë ¥ ì¦ë¹™ìë£Œ ì •ë¦¬.</p><a class="btn" href="#">ì—´ê¸°</a></article>
      <article class="card"><span class="tag">ìœ í‹¸</span><h3>í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ</h3><p>íšŒì˜ë¡, ì§ê´´ ì¼ì§€, í‰ê°€í‘œ ë“± ê³µìš© í…œí”Œë¦¿.</p><a class="btn" href="#">ì—´ê¸°</a></article>
    </div>

    <section id="archives" class="section">
      <h2>ì—°ë„ë³„ ì•„ì¹´ì´ë¸Œ</h2>
      <a class="pill" href="#">í´ë” ì—´ê¸°</a>
    </section>

    <div class="grid">
      <article class="card"><span class="tag">2020â€“2021</span><h3>ì´ˆê¸° ë¬¸ì„œ</h3><p>ê¸°ê´€ ì„¸íŒ…, í›ˆë ¨ê³„ì¢Œì œ ì´ˆë°˜ ê¸°ë¡, ì¸ì¦ ê¸°ì´ˆìë£Œ.</p><a class="btn" href="#">ì—´ê¸°</a></article>
      <article class="card"><span class="tag">2022â€“2023</span><h3>ìš´ì˜ ë° ì‹¬ì‚¬ê¸°ë¡</h3><p>í›ˆë ¨ìƒ ê´€ë¦¬, ê³¼ì •ê°œí¸, ì‹¬ì‚¬ ëŒ€ì‘ ì„œë¥˜.</p><a class="btn" href="#">ì—´ê¸°</a></article>
      <article class="card"><span class="tag">2024â€“2025</span><h3>í†µí•©í‰ê°€ ìë£Œ</h3><p>ì‹¬ì‚¬ì¼ì›í™”, ì¸ì¦ëŒ€ì‘, í™˜ë¶ˆÂ·ì·¨ì—… í”„ë¡œì„¸ìŠ¤.</p><a class="btn" href="#">ì—´ê¸°</a></article>
    </div>

    <section id="about" class="section" style="margin-top:52px">
      <h2>About</h2>
      <a class="pill" href="mailto:sanghee@example.com">ì—°ë½í•˜ê¸°</a>
    </section>

    <div class="hero-card" id="quick-start" aria-label="ë¹ ë¥¸ ì‹œì‘">
      <ol style="margin:0; padding-left:18px; line-height:1.9">
        <li><strong>ìƒˆ ì €ì¥ì†Œ</strong> ìƒì„± â†’ ì´ë¦„ ì˜ˆ: <code>official-archive</code>.</li>
        <li><code>official.html</code> íŒŒì¼ ì—…ë¡œë“œ â†’ ì»¤ë°‹/í‘¸ì‹œ.</li>
        <li>Settings â†’ Pages â†’ Branchë¥¼ <code>main / (root)</code>ë¡œ ì„¤ì •.</li>
        <li>ì €ì¥ í›„ í‘œì‹œëœ URL ì ‘ì†.</li>
      </ol>
      <p class="sub" style="margin-top:10px">Firebase ì¸ì¦ì„ ì‚¬ìš©í•  ê²½ìš° ìƒˆ URLì„ <code>authDomain</code>ì— ì¶”ê°€í•˜ì„¸ìš”.</p>
    </div>

    <footer>
      <p>Â© <span id="y"></span> ë°•ìƒí¬ â€¢ Official Archive â€¢ Built with GitHub Pages</p>
    </footer>

  </main>

<script>
  document.getElementById('y').textContent = new Date().getFullYear();
</script>

<script type="module">
  import { auth } from './firebase-init.js';
  import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

  const authBtn = document.getElementById('authBtn');

  onAuthStateChanged(auth, (user) => {

    if (user) {
      // âœ… ë¡œê·¸ì¸ ìƒíƒœ â†’ ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ìœ¼ë¡œ í‘œì‹œ
      authBtn.textContent = "ë¡œê·¸ì•„ì›ƒ";
      authBtn.href = "#";
      authBtn.onclick = async () => {
        await signOut(auth);
        alert("ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.");
        location.href = "./login.html";
      };

    } else {
      // âŒ ë¡œê·¸ì•„ì›ƒ ìƒíƒœ â†’ ë¡œê·¸ì¸ / íšŒì›ê°€ì… ìœ ì§€
      authBtn.textContent = "ë¡œê·¸ì¸ / íšŒì›ê°€ì…";
      authBtn.href = "./login.html";

      // â­ í˜ì´ì§€ê°€ ë¨¼ì € ë Œë”ëœ í›„ ì´ë™ (ë””ìì¸ ê¹¨ì§ ë°©ì§€)
      setTimeout(() => {
        location.href = "./login.html";
      }, 10);
    }
  });
</script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getStorage, ref, listAll, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBFHz2dP8iucRWl7KHvyv6I2HlRqHLDjkw",
    authDomain: "and-132-archive.firebaseapp.com",
    projectId: "and-132-archive",
    storageBucket: "and-132-archive.appspot.com",
    messagingSenderId: "650954051303",
    appId: "1:650954051303:web:9ebe30987a0dbaf0451c42"
  };

  const app = initializeApp(firebaseConfig);
  const storage = getStorage(app);

  const container = document.getElementById("official-grid");

  async function loadOfficialFolders() {
    const baseRef = ref(storage, "official");
    const res = await listAll(baseRef);

    res.prefixes.forEach(async (folder) => {
      const card = document.createElement("div");
      card.className = "tms-card";

      const title = document.createElement("h3");
      title.innerText = folder.name;

      const button = document.createElement("button");
      button.className = "open-btn";
      button.innerText = "ì—´ê¸°";
      button.onclick = () => openFolder(folder.fullPath);

      card.appendChild(title);
      card.appendChild(button);
      container.appendChild(card);
    });
  }

  async function openFolder(path) {
    const folderRef = ref(storage, path);
    const res = await listAll(folderRef);

    let list = "";
    for (const item of res.items) {
      const url = await getDownloadURL(item);
      list += `<li><a href="${url}" target="_blank">${item.name}</a></li>`;
    }

    const win = window.open("", "_blank");
    win.document.write(`
      <h2>${path}</h2>
      <ul>${list}</ul>
    `);
  }

  loadOfficialFolders();

<script type="module">
  import { app, auth } from "./firebase-init.js";
  import { onAuthStateChanged, signOut }
    from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import {
    getStorage, ref, listAll, getDownloadURL
  } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";

  /* ---------- ë¡œê·¸ì¸ ìƒíƒœ ì²˜ë¦¬ ---------- */
  const authBtn = document.getElementById('authBtn');

  onAuthStateChanged(auth, user => {
    if (user) {
      authBtn.textContent = "ë¡œê·¸ì•„ì›ƒ";
      authBtn.href = "#";
      authBtn.onclick = async () => {
        await signOut(auth);
        alert("ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.");
        location.href = "./login.html";
      };
    } else {
      authBtn.textContent = "ë¡œê·¸ì¸ / íšŒì›ê°€ì…";
      authBtn.href = "./login.html";
      setTimeout(() => location.href = "./login.html", 10);
    }
  });

  /* ---------- Storage ë¶ˆëŸ¬ì˜¤ê¸° ---------- */
  const storage = getStorage(app);

  const toggleBtn = document.getElementById("toggleFilesBtn");
  const fileListBox = document.getElementById("fileList");

  toggleBtn.addEventListener("click", async () => {
    fileListBox.style.display =
      fileListBox.style.display === "none" ? "block" : "none";

    if (fileListBox.dataset.loaded === "1") return;

    const rootRef = ref(storage, "official/");

    try {
      const res = await listAll(rootRef);

      let html = "<ul>";

      // ğŸ“ í´ë”ë“¤
      res.prefixes.forEach(folder => {
        html += `<li>ğŸ“ ${folder.name}</li>`;
      });

      // ğŸ“„ íŒŒì¼ë“¤
      for (const item of res.items) {
        const url = await getDownloadURL(item);
        html += `<li>ğŸ“„ <a href="${url}" target="_blank">${item.name}</a></li>`;
      }

      html += "</ul>";

      fileListBox.innerHTML = html;
      fileListBox.dataset.loaded = "1";

    } catch (e) {
      fileListBox.innerHTML = "<p>ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨ (ê¶Œí•œ ë˜ëŠ” ê²½ë¡œ ì˜¤ë¥˜)</p>";
      console.error(e);
    }
  });
</script>


</body>
</html>
